{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-sm" style="background: linear-gradient(to bottom, #e0f7ff, #b3e5fc);">
        <div class="card-header bg-info text-white">
          <h3 class="mb-0">Report Physical Illness</h3>
        </div>
        <div class="card-body">
          <form method="post">
            {% csrf_token %}
            <div class="mb-3">
              {{ form.as_p }}
            </div>
            <h5 class="mt-4">Enter Physical Illness Contacts:</h5>
            <div id="names-container">
              <div class="row mb-3 name-row">
                <div class="col">
                  <label class="form-label">First Name:</label>
                  <input type="text" name="first_name[]" class="form-control" placeholder="First Name">
                </div>
                <div class="col">
                  <label class="form-label">Last Name:</label>
                  <input type="text" name="last_name[]" class="form-control" placeholder="Last Name">
                </div>
              </div>
            </div>
            <div class="mb-3">
              <button type="button" id="add-name" class="btn btn-outline-primary">Add Name</button>
            </div>
            <div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
  
<script>
document.getElementById("add-name").addEventListener("click", function() {
    // Create a new row for additional name inputs
    var newRow = document.createElement("div");
    newRow.classList.add("row", "mb-3", "name-row");
    
    // Create the first name column
    var colFirst = document.createElement("div");
    colFirst.classList.add("col");
    var firstLabel = document.createElement("label");
    firstLabel.classList.add("form-label");
    firstLabel.innerText = "First Name:";
    var firstInput = document.createElement("input");
    firstInput.type = "text";
    firstInput.name = "first_name[]";
    firstInput.classList.add("form-control");
    firstInput.placeholder = "First Name";
    colFirst.appendChild(firstLabel);
    colFirst.appendChild(firstInput);
    
    // Create the last name column
    var colLast = document.createElement("div");
    colLast.classList.add("col");
    var lastLabel = document.createElement("label");
    lastLabel.classList.add("form-label");
    lastLabel.innerText = "Last Name:";
    var lastInput = document.createElement("input");
    lastInput.type = "text";
    lastInput.name = "last_name[]";
    lastInput.classList.add("form-control");
    lastInput.placeholder = "Last Name";
    colLast.appendChild(lastLabel);
    colLast.appendChild(lastInput);
    
    // Append both columns to the new row
    newRow.appendChild(colFirst);
    newRow.appendChild(colLast);
    
    // Append the new row to the container
    document.getElementById("names-container").appendChild(newRow);
});
</script>

{% endblock %}
